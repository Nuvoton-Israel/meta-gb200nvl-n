From 598f6dae227cab57bfb1ed4da82980a81a5a2e36 Mon Sep 17 00:00:00 2001
From: Tomer Maimon <tmaimon77@gmail.com>
Date: Thu, 4 Jul 2024 14:49:42 +0300
Subject: [PATCH 18/23] arm64: dts: npmc8xx: move the clk handler node to the
 reset node
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Add clk handler node to the reset node and removing the clock node
driver since the reset driver is registerÂ the NPCM8xx clock controller
aux device.

Signed-off-by: Tomer Maimon <tmaimon77@gmail.com>
---
 .../arm64/boot/dts/nuvoton/nuvoton-common-npcm8xx.dtsi | 10 +---------
 1 file changed, 1 insertion(+), 9 deletions(-)

diff --git a/arch/arm64/boot/dts/nuvoton/nuvoton-common-npcm8xx.dtsi b/arch/arm64/boot/dts/nuvoton/nuvoton-common-npcm8xx.dtsi
index ce6fb94bd491..e4af91cc5508 100644
--- a/arch/arm64/boot/dts/nuvoton/nuvoton-common-npcm8xx.dtsi
+++ b/arch/arm64/boot/dts/nuvoton/nuvoton-common-npcm8xx.dtsi
@@ -71,7 +71,7 @@ ahb {
 		interrupt-parent = <&gic>;
 		ranges;
 
-		rstc: reset-controller@f0801000 {
+		clk: rstc: reset-controller@f0801000 {
 			compatible = "nuvoton,npcm845-reset";
 			reg = <0x0 0xf0801000 0x0 0x78>;
 			#reset-cells = <2>;
@@ -80,14 +80,6 @@ rstc: reset-controller@f0801000 {
 			#clock-cells = <1>;
 		};
 
-		clk: clock-controller@f0801000 {
-			compatible = "nuvoton,npcm845-clk";
-			nuvoton,sysclk = <&rst>;
-			#clock-cells = <1>;
-			clocks = <&refclk>;
-			clock-names = "refclk";
-		};
-
 		gmac0: eth@f0802000 {
 			device_type = "network";
 			compatible = "nuvoton,npcm-dwmac";
-- 
2.43.0

