From fc886ac24b0e9d356d7d9e6271390920c6df9799 Mon Sep 17 00:00:00 2001
From: "Radivoje (Ogi) Jovanovic" <rjovanovic@nvidia.com>
Date: Wed, 25 Oct 2023 08:54:22 -0700
Subject: [PATCH] drivers: spinor: add new spinor chip

add support for  Macronix MX25U256

Signed-off-by: Radivoje (Ogi) Jovanovic <rjovanovic@nvidia.com>
fixes jira https://jirasw.nvidia.com/browse/DGXOPENBMC-9348
Upstream-Status: Pending [Not submitted to upstream yet]
---
 drivers/mtd/spi-nor/macronix.c | 6 ++++++
 1 file changed, 6 insertions(+)

diff --git a/drivers/mtd/spi-nor/macronix.c b/drivers/mtd/spi-nor/macronix.c
index 5cc51dbfbeb3..9f73fb7f21fa 100644
--- a/drivers/mtd/spi-nor/macronix.c
+++ b/drivers/mtd/spi-nor/macronix.c
@@ -131,6 +131,12 @@ static const struct flash_info macronix_nor_parts[] = {
 		.size = SZ_32M,
 		.no_sfdp_flags = SECT_4K,
 		.fixup_flags = SPI_NOR_4B_OPCODES,
+	}, {
+		.id = SNOR_ID(0xc2, 0x95, 0x39),
+		.name = "mx25u25645g",
+		.size = SZ_32M,
+		.no_sfdp_flags = SECT_4K,
+		.fixup_flags = SPI_NOR_4B_OPCODES,
 	}, {
 		.id = SNOR_ID(0xc2, 0x25, 0x3a),
 		.name = "mx25u51245g",
-- 
2.43.0

